[gd_scene load_steps=19 format=3 uid="uid://byeqgu8yfsscc"]

[ext_resource type="Theme" uid="uid://tcuinr4g47c3" path="res://ui/main_theme.tres" id="1_tyr52"]
[ext_resource type="FontFile" uid="uid://ctwefwswknon6" path="res://assets/SmileySans-Oblique.otf" id="1_vbh46"]
[ext_resource type="Script" path="res://ui/title_screen.gd" id="2_j215p"]
[ext_resource type="Texture2D" uid="uid://btdo13g80aw0e" path="res://Legacy-Fantasy - High Forest 2.3/Background/Background.png" id="4_saxhy"]
[ext_resource type="Texture2D" uid="uid://b4lwaq3kldcey" path="res://Legacy-Fantasy - High Forest 2.3/Trees/Background.png" id="5_akacv"]
[ext_resource type="Texture2D" uid="uid://cchxkm222au23" path="res://Legacy-Fantasy - High Forest 2.3/Assets/Tiles.png" id="6_m24uj"]
[ext_resource type="TileSet" uid="uid://bj6473sigg4nb" path="res://world.tres" id="7_46oai"]
[ext_resource type="Texture2D" uid="uid://digtmhjsqeerr" path="res://generic_char_v0.2/png/green/char_green_1.png" id="12_u230l"]

[sub_resource type="AtlasTexture" id="AtlasTexture_32iqr"]
atlas = ExtResource("12_u230l")
region = Rect2(0, 0, 56, 56)

[sub_resource type="AtlasTexture" id="AtlasTexture_ptrsi"]
atlas = ExtResource("12_u230l")
region = Rect2(56, 0, 56, 56)

[sub_resource type="AtlasTexture" id="AtlasTexture_5uyuy"]
atlas = ExtResource("12_u230l")
region = Rect2(112, 0, 56, 56)

[sub_resource type="AtlasTexture" id="AtlasTexture_xnd7t"]
atlas = ExtResource("12_u230l")
region = Rect2(168, 0, 56, 56)

[sub_resource type="AtlasTexture" id="AtlasTexture_pib40"]
atlas = ExtResource("12_u230l")
region = Rect2(224, 0, 56, 56)

[sub_resource type="AtlasTexture" id="AtlasTexture_ax073"]
atlas = ExtResource("12_u230l")
region = Rect2(280, 0, 56, 56)

[sub_resource type="SpriteFrames" id="SpriteFrames_y8wph"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_32iqr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ptrsi")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5uyuy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xnd7t")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pib40")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ax073")
}],
"loop": true,
"name": &"default",
"speed": 10.0
}]

[sub_resource type="Animation" id="Animation_u54hb"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("V:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(288, 88)]
}

[sub_resource type="Animation" id="Animation_7ux3o"]
resource_name = "enter"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("V:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(386, 88), Vector2(288, 88)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_tvxm8"]
_data = {
"RESET": SubResource("Animation_u54hb"),
"enter": SubResource("Animation_7ux3o")
}

[node name="TitleScreen" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("1_tyr52")
script = ExtResource("2_j215p")

[node name="Graphics" type="Node2D" parent="."]
metadata/_edit_lock_ = true

[node name="Decorations" type="Node2D" parent="Graphics"]
metadata/_edit_lock_ = true
metadata/_edit_group_ = true

[node name="Foreground" type="ParallaxBackground" parent="Graphics/Decorations"]
layer = 1

[node name="ParallaxLayer" type="ParallaxLayer" parent="Graphics/Decorations/Foreground"]

[node name="Background" type="ParallaxBackground" parent="Graphics/Decorations"]

[node name="Sky" type="ParallaxLayer" parent="Graphics/Decorations/Background"]
motion_scale = Vector2(0.3, 0.1)
motion_mirroring = Vector2(480, 0)
metadata/_edit_lock_ = true
metadata/_edit_group_ = true

[node name="Background" type="Sprite2D" parent="Graphics/Decorations/Background/Sky"]
position = Vector2(0, -87)
texture = ExtResource("4_saxhy")
centered = false

[node name="Hills" type="ParallaxLayer" parent="Graphics/Decorations/Background"]
motion_scale = Vector2(0.5, 0.2)
motion_mirroring = Vector2(375, 0)

[node name="Background" type="Sprite2D" parent="Graphics/Decorations/Background/Hills"]
position = Vector2(0, 1)
texture = ExtResource("5_akacv")
centered = false
region_enabled = true
region_rect = Rect2(800, 8, 96, 248)

[node name="Background2" type="Sprite2D" parent="Graphics/Decorations/Background/Hills"]
position = Vector2(96, 1)
texture = ExtResource("5_akacv")
centered = false
region_enabled = true
region_rect = Rect2(800, 8, 96, 248)

[node name="Background3" type="Sprite2D" parent="Graphics/Decorations/Background/Hills"]
position = Vector2(186, 1)
texture = ExtResource("5_akacv")
centered = false
region_enabled = true
region_rect = Rect2(800, 8, 96, 248)

[node name="Background4" type="Sprite2D" parent="Graphics/Decorations/Background/Hills"]
position = Vector2(280, 1)
texture = ExtResource("5_akacv")
centered = false
region_enabled = true
region_rect = Rect2(800, 8, 96, 248)

[node name="Tree" type="ParallaxLayer" parent="Graphics/Decorations/Background"]
motion_scale = Vector2(0.7, 0.3)
motion_mirroring = Vector2(375, 0)

[node name="Background" type="Sprite2D" parent="Graphics/Decorations/Background/Tree"]
position = Vector2(1, 37)
texture = ExtResource("5_akacv")
centered = false
region_enabled = true
region_rect = Rect2(112, 0, 96, 256)

[node name="Background2" type="Sprite2D" parent="Graphics/Decorations/Background/Tree"]
position = Vector2(97, 38)
texture = ExtResource("5_akacv")
centered = false
region_enabled = true
region_rect = Rect2(112, 0, 96, 256)
metadata/_edit_lock_ = true
metadata/_edit_group_ = true

[node name="Background3" type="Sprite2D" parent="Graphics/Decorations/Background/Tree"]
position = Vector2(192, 38)
texture = ExtResource("5_akacv")
centered = false
region_enabled = true
region_rect = Rect2(112, 0, 96, 256)

[node name="Background4" type="Sprite2D" parent="Graphics/Decorations/Background/Tree"]
position = Vector2(286, 39)
texture = ExtResource("5_akacv")
centered = false
region_enabled = true
region_rect = Rect2(112, 0, 96, 256)

[node name="Bushes" type="ParallaxLayer" parent="Graphics/Decorations/Background"]

[node name="Tiles" type="Sprite2D" parent="Graphics/Decorations/Background/Bushes"]
position = Vector2(54, 178)
texture = ExtResource("6_m24uj")
region_enabled = true
region_rect = Rect2(274, 5, 124, 43)

[node name="Tiles2" type="Sprite2D" parent="Graphics/Decorations/Background/Bushes"]
position = Vector2(106, 175)
texture = ExtResource("6_m24uj")
region_enabled = true
region_rect = Rect2(274, 5, 124, 43)

[node name="Tiles3" type="Sprite2D" parent="Graphics/Decorations/Background/Bushes"]
position = Vector2(150, 163)
texture = ExtResource("6_m24uj")
region_enabled = true
region_rect = Rect2(274, 5, 124, 43)

[node name="Tiles4" type="Sprite2D" parent="Graphics/Decorations/Background/Bushes"]
position = Vector2(171, 175)
texture = ExtResource("6_m24uj")
region_enabled = true
region_rect = Rect2(274, 5, 124, 43)

[node name="Tiles5" type="Sprite2D" parent="Graphics/Decorations/Background/Bushes"]
position = Vector2(211, 174)
texture = ExtResource("6_m24uj")
region_enabled = true
region_rect = Rect2(274, 5, 124, 43)

[node name="Tiles6" type="Sprite2D" parent="Graphics/Decorations/Background/Bushes"]
position = Vector2(263, 161)
texture = ExtResource("6_m24uj")
region_enabled = true
region_rect = Rect2(274, 5, 124, 43)

[node name="Tiles7" type="Sprite2D" parent="Graphics/Decorations/Background/Bushes"]
position = Vector2(320, 155)
texture = ExtResource("6_m24uj")
region_enabled = true
region_rect = Rect2(274, 5, 124, 43)

[node name="Tiles8" type="Sprite2D" parent="Graphics/Decorations/Background/Bushes"]
position = Vector2(375, 152)
texture = ExtResource("6_m24uj")
region_enabled = true
region_rect = Rect2(274, 5, 124, 43)

[node name="Tiles9" type="Sprite2D" parent="Graphics/Decorations/Background/Bushes"]
position = Vector2(411, 161)
texture = ExtResource("6_m24uj")
region_enabled = true
region_rect = Rect2(274, 5, 124, 43)

[node name="TileMap" type="TileMap" parent="Graphics"]
tile_set = ExtResource("7_46oai")
format = 2
layer_0/tile_data = PackedInt32Array(720897, 65540, 0, 786433, 65540, 1, 720898, 65540, 0, 786434, 65540, 1, 720899, 65540, 0, 786435, 65540, 1, 720900, 65540, 0, 786436, 65540, 1, 720901, 65540, 0, 786437, 65540, 1, 720902, 65540, 0, 786438, 65540, 1, 720903, 65540, 0, 786439, 65540, 1, 720904, 65540, 0, 786440, 65540, 1, 720905, 65540, 0, 786441, 65540, 1, 720906, 65540, 0, 786442, 65540, 1, 720907, 65540, 0, 786443, 65540, 1, 720908, 65540, 0, 786444, 65540, 1, 720909, 65540, 0, 786445, 65540, 1, 720910, 262148, 0, 851969, 65540, 2, 851970, 65540, 2, 851971, 65540, 2, 851972, 65540, 2, 851973, 65540, 2, 851974, 65540, 2, 851975, 65540, 2, 851976, 65540, 2, 851977, 65540, 2, 851978, 65540, 2, 851979, 65540, 2, 851980, 65540, 2, 851981, 65540, 2, 720896, 262148, 3, 786432, 196612, 2, 851968, 65540, 2, 589824, 262148, 2, 655360, 262148, 2, 393216, 262148, 2, 458752, 262148, 3, 524288, 262148, 4, 196608, 262148, 2, 262144, 262148, 3, 327680, 262148, 4, 0, 262148, 2, 65536, 262148, 3, 131072, 262148, 4, 917504, 65540, 4, 917505, 131076, 4, 917506, 196612, 4, 917507, 65540, 4, 917508, 131076, 4, 917509, 196612, 4, 917510, 65540, 4, 917511, 131076, 4, 917512, 196612, 4, 917513, 65540, 4, 917514, 131076, 4, 917515, 196612, 4, 917516, 65540, 4, 917517, 131076, 4, 786471, 65540, 2, 786472, 65540, 2, 786473, 65540, 2, -131072, 262148, 2, -65536, 262148, 3, -262144, 262148, 2, -196608, 262148, 3, -393216, 262148, 2, -327680, 262148, 3, -524288, 262148, 2, -458752, 262148, 3, -655360, 262148, 2, -589824, 262148, 3, -786432, 262148, 2, -720896, 262148, 3, -917504, 262148, 2, -851968, 262148, 3, -1048576, 262148, 2, -983040, 262148, 3, -1310720, 262148, 2, -1245184, 262148, 3, -1179648, 262148, 2, -1114112, 262148, 3, 262153, 4, 4, 262154, 65540, 4, 262155, 65540, 4, 262156, 65540, 4, 262157, 65540, 4, 262158, 65540, 4, 262159, 65540, 4, 262160, 65540, 4, 262161, 65540, 4, 262162, 65540, 4, 262163, 196612, 4, 262164, 262148, 4, 196624, 65540, 2, 196623, 65540, 2, 196622, 65540, 2, 196625, 65540, 2, 196626, 65540, 2, 196616, 4, 4, 196617, 4, 3, 196618, 65540, 2, 196619, 65540, 2, 196620, 65540, 2, 196621, 65540, 2, 196627, 65540, 2, 196628, 262148, 2, 131080, 4, 3, 131081, 65540, 2, 131082, 65540, 2, 131083, 65540, 2, 131084, 65540, 2, 131085, 65540, 2, 131086, 65540, 2, 131087, 65540, 2, 131088, 65540, 2, 131089, 65540, 2, 131090, 65540, 2, 131091, 65540, 2, 131092, 65540, 2, 131093, 262148, 4, 65542, 4, 4, 65544, 65540, 4, 65545, 65540, 2, 65546, 65540, 2, 65547, 65540, 2, 65548, 65540, 2, 65549, 196612, 2, 65550, 196612, 2, 65551, 196612, 2, 65552, 65540, 2, 65553, 65540, 2, 65554, 65540, 2, 65555, 65540, 2, 65556, 65540, 2, 65557, 262148, 3, 65543, 65540, 4, 786446, 262148, 1, 851982, 262148, 3, 917518, 262148, 4, 786474, 65540, 2, 786475, 65540, 2, 786476, 65540, 2, 786477, 65540, 2, 786478, 4, 3, 720935, 65540, 1, 720936, 65540, 1, 720937, 65540, 1, 720938, 65540, 1, 720939, 65540, 1, 720940, 65540, 1, 720941, 65540, 1, 720942, 4, 3, 852007, 65540, 3, 852008, 131076, 3, 852009, 196612, 3, 852010, 65540, 3, 852011, 131076, 3, 852012, 196612, 3, 852013, 65540, 3, 852014, 131076, 3, 917519, 4, 4, 786447, 4, 2, 851983, 4, 3, 786448, 65540, 2, 851984, 131076, 3, 786449, 65540, 2, 851985, 196612, 3, 786450, 65540, 2, 851986, 65540, 3, 786451, 65540, 2, 851987, 131076, 3, 786452, 65540, 2, 851988, 196612, 3, 786453, 65540, 2, 851989, 65540, 3, 786454, 65540, 2, 851990, 131076, 3, 786455, 65540, 2, 851991, 196612, 3, 786456, 65540, 2, 851992, 65540, 3, 786457, 65540, 2, 851993, 131076, 3, 786458, 131076, 2, 851994, 196612, 3, 786459, 131076, 2, 851995, 65540, 3, 786460, 65540, 3, 851996, 131076, 3, 786461, 131076, 2, 851997, 196612, 3, 786462, 131076, 2, 851998, 65540, 3, 786463, 131076, 2, 851999, 131076, 3, 786464, 131076, 2, 852000, 196612, 3, 786465, 131076, 2, 852001, 65540, 3, 786466, 131076, 2, 852002, 131076, 3, 786467, 131076, 2, 852003, 196612, 3, 786468, 131076, 2, 852004, 65540, 3, 786469, 131076, 2, 852005, 131076, 3, 786470, 131076, 2, 852006, 196612, 3, 655375, 4, 0, 655376, 65540, 0, 655377, 131076, 0, 655378, 196612, 0, 655379, 65540, 0, 655380, 131076, 0, 655381, 196612, 0, 655382, 65540, 0, 655383, 131076, 0, 655384, 196612, 0, 655385, 65540, 0, 655386, 131076, 0, 655387, 65540, 0, 655388, 196612, 0, 720911, 4, 1, 720912, 65540, 1, 720913, 65540, 1, 720914, 65540, 1, 720915, 65540, 1, 720916, 65540, 1, 720917, 65540, 1, 720918, 65540, 1, 720919, 65540, 1, 720920, 65540, 1, 720921, 65540, 1, 720922, 131076, 1, 720923, 65540, 1, 720924, 65540, 1, 720925, 65540, 1, 720926, 131076, 1, 720927, 196612, 1, 720928, 65540, 1, 720929, 131076, 1, 720930, 196612, 1, 720931, 65540, 1, 720932, 65540, 1, 720933, 131076, 1, 720934, 196612, 1, 852015, 196612, 3, 917520, 131076, 4, 917521, 196612, 4, 917522, 65540, 4, 917523, 131076, 4, 917524, 196612, 4, 917525, 65540, 4, 917526, 131076, 4, 917527, 196612, 4, 917528, 65540, 4, 917529, 131076, 4, 917530, 196612, 4, 917531, 65540, 4, 917532, 131076, 4, 917533, 196612, 4, 917534, 65540, 4, 917535, 131076, 4, 917536, 196612, 4, 917537, 65540, 4, 917538, 131076, 4, 917539, 196612, 4, 917540, 65540, 4, 917541, 131076, 4, 917542, 196612, 4, 917543, 65540, 4, 917544, 131076, 4, 917545, 196612, 4, 917546, 65540, 4, 917547, 131076, 4, 917548, 196612, 4, 655389, 65540, 0, 655390, 131076, 0, 655391, 65540, 0, 655392, 196612, 0, 655393, 65540, 0, 655394, 131076, 0, 655395, 196612, 0, 655396, 65540, 0, 655397, 131076, 0, 655398, 65540, 0, 196654, 65540, 2, 262190, 65540, 2, 327726, 4, 2, 393262, 4, 3, 458798, 4, 2, 524334, 4, 3, 589870, 4, 2, 655406, 4, 2, 196655, 65540, 2, 262191, 65540, 2, 327727, 65540, 2, 393263, 65540, 2, 458799, 65540, 2, 524335, 65540, 2, 589871, 65540, 2, 655407, 65540, 2, 720943, 65540, 2, 786479, 65540, 2, 917549, 65540, 4, 917550, 131076, 4, 917551, 196612, 4, 196656, 65540, 2, 196657, 65540, 2, 262193, 65540, 2, 262192, 65540, 2, 327728, 65540, 2, 327729, 65540, 2, 393265, 65540, 2, 393264, 65540, 2, 458800, 65540, 2, 458801, 65540, 2, 524336, 65540, 2, 524337, 65540, 2, 589873, 65540, 2, 589872, 65540, 2, 655408, 65540, 2, 655409, 65540, 2, 720944, 65540, 2, 720945, 65540, 2, 786481, 65540, 2, 786480, 65540, 2, 852016, 65540, 2, 852017, 65540, 2, 917552, 65540, 4, 917553, 196612, 4, 917554, 196612, 4, 786482, 65540, 2, 852018, 65540, 2, 655410, 65540, 2, 720946, 65540, 2, 524338, 65540, 2, 589874, 65540, 2, 393266, 65540, 2, 458802, 65540, 2, 262194, 65540, 2, 327730, 65540, 2, 196658, 65540, 2, 196659, 65540, 2, 262195, 65540, 2, 327731, 65540, 2, 393267, 65540, 2, 458803, 65540, 2, 524339, 65540, 2, 589875, 65540, 2, 655411, 65540, 2, 720947, 65540, 2, 786483, 65540, 2, 852019, 65540, 2, 196660, 65540, 2, 262196, 65540, 2, 327732, 65540, 2, 393268, 65540, 2, 458804, 65540, 2, 524340, 65540, 2, 589876, 65540, 2, 655412, 65540, 2, 720948, 65540, 2, 786484, 65540, 2, 852020, 65540, 2, 917555, 65540, 4, 917556, 131076, 4, 917557, 262148, 4, 786485, 262148, 2, 852021, 262148, 3, 655413, 262148, 2, 720949, 262148, 3, 524341, 262148, 2, 589877, 262148, 3, 393269, 262148, 2, 458805, 262148, 3, 262197, 262148, 2, 327733, 262148, 3, 131125, 262148, 1, 196661, 262148, 3, 65585, 131076, 0, 131121, 131076, 1, 65586, 196612, 0, 131122, 196612, 1, 65587, 655364, 9, 131123, 131076, 1, 65588, 720900, 9, 131124, 196612, 1, 65589, 262148, 0, 65581, 65540, 0, 131117, 65540, 1, 65582, 65540, 0, 131118, 65540, 1, 65583, 131076, 0, 131119, 131076, 1, 65584, 65540, 0, 131120, 65540, 1, 196653, 65540, 2, 65580, 4, 0, 131116, 4, 1, -327629, 655364, 3, -262093, 655364, 4, -196557, 655364, 5, -131021, 655364, 6, -65485, 655364, 7, 51, 655364, 8, -327628, 720900, 3, -262092, 720900, 4, -196556, 720900, 5, -131020, 720900, 6, -65484, 720900, 7, 52, 720900, 8, -786381, 655364, 3, -720845, 655364, 4, -655309, 655364, 5, -589773, 655364, 6, -524237, 655364, 7, -458701, 655364, 8, -393165, 655364, 9, -786380, 720900, 3, -720844, 720900, 4, -655308, 720900, 5, -589772, 720900, 6, -524236, 720900, 7, -458700, 720900, 8, -393164, 720900, 9, -917454, 589828, 0, -851918, 589828, 1, -917453, 655364, 0, -851917, 655364, 1, -917452, 720900, 0, -851916, 720900, 1, -917451, 786436, 0, -851915, 786436, 1, -1048526, 589828, 0, -982990, 589828, 1, -1048525, 655364, 0, -982989, 655364, 1, -1048524, 720900, 0, -982988, 720900, 1, -1048523, 786436, 0, -982987, 786436, 1, -1179598, 589828, 0, -1114062, 589828, 1, -1179597, 655364, 0, -1114061, 655364, 1, -1179596, 720900, 0, -1114060, 720900, 1, -1179595, 786436, 0, -1114059, 786436, 1, -720843, 786436, 0, -655307, 786436, 1, -262091, 786436, 0, -196555, 786436, 1, -458702, 589828, 2, -393166, 589828, 3)

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Graphics"]
position = Vector2(48, 168)
sprite_frames = SubResource("SpriteFrames_y8wph")
autoplay = "default"

[node name="Label" type="Label" parent="."]
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_top = 24.0
offset_bottom = 47.0
grow_horizontal = 2
theme_override_colors/font_color = Color(0.203922, 0.690196, 0.552941, 1)
theme_override_colors/font_shadow_color = Color(0.682353, 0.737255, 0.709804, 1)
theme_override_constants/shadow_offset_x = 2
theme_override_constants/shadow_offset_y = 2
theme_override_constants/outline_size = 2
theme_override_constants/shadow_outline_size = 3
theme_override_fonts/font = ExtResource("1_vbh46")
theme_override_font_sizes/font_size = 30
text = "勇者传说
"
horizontal_alignment = 1

[node name="V" type="VBoxContainer" parent="."]
layout_mode = 1
anchors_preset = 6
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
offset_left = 288.0
offset_top = 88.0
offset_right = 360.0
offset_bottom = 189.0
grow_horizontal = 0
grow_vertical = 2

[node name="NewGame" type="Button" parent="V"]
layout_mode = 2
text = "新的故事"

[node name="LoadGame" type="Button" parent="V"]
layout_mode = 2
text = "旧的回忆"

[node name="ExitGame" type="Button" parent="V"]
layout_mode = 2
text = "离开游戏"

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_tvxm8")
}
autoplay = "enter"

[connection signal="pressed" from="V/NewGame" to="." method="_on_new_game_pressed"]
[connection signal="pressed" from="V/LoadGame" to="." method="_on_load_game_pressed"]
[connection signal="pressed" from="V/ExitGame" to="." method="_on_exit_game_pressed"]
